-- Modify "provider_ratings" table
ALTER TABLE "provider_ratings" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 73014444032 SET INCREMENT BY 1 RESTART;
-- Modify "provision_buckets" table
ALTER TABLE "provision_buckets" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 77309411328 SET INCREMENT BY 1 RESTART;
-- Modify "linked_addresses" table
ALTER TABLE "linked_addresses" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 25769803776 SET INCREMENT BY 1 RESTART;
-- Drop index "idx_lock_payment_orders_amount_in_usd" from table: "lock_payment_orders"
DROP INDEX "idx_lock_payment_orders_amount_in_usd";
-- Modify "lock_payment_orders" table
ALTER TABLE "lock_payment_orders" ALTER COLUMN "amount_in_usd" TYPE double precision;
-- Modify "networks" table
ALTER TABLE "networks" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 38654705664 SET INCREMENT BY 1 RESTART;
-- Modify "payment_order_recipients" table
ALTER TABLE "payment_order_recipients" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 47244640256 SET INCREMENT BY 1 RESTART;
-- Modify "kyb_profiles" table
ALTER TABLE "kyb_profiles" ALTER COLUMN "kyb_rejection_comment" TYPE character varying;
-- Drop index "idx_payment_orders_amount_in_usd" from table: "payment_orders"
DROP INDEX "idx_payment_orders_amount_in_usd";
-- Modify "payment_orders" table
ALTER TABLE "payment_orders" ALTER COLUMN "amount_in_usd" TYPE double precision;
-- Modify "institutions" table
ALTER TABLE "institutions" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 17179869184 SET INCREMENT BY 1;
-- Modify "provider_order_tokens" table
ALTER TABLE "provider_order_tokens" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 64424509440 SET INCREMENT BY 1 RESTART;
-- Modify "receive_addresses" table
ALTER TABLE "receive_addresses" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 81604378624 SET INCREMENT BY 1 RESTART;
-- Modify "sender_order_tokens" table
ALTER TABLE "sender_order_tokens" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 85899345920 SET INCREMENT BY 1 RESTART;
-- Modify "tokens" table
ALTER TABLE "tokens" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 94489280512 SET INCREMENT BY 1 RESTART;
-- Modify "webhook_retry_attempts" table
ALTER TABLE "webhook_retry_attempts" ALTER COLUMN "id" SET GENERATED BY DEFAULT SET START WITH 111669149696 SET INCREMENT BY 1 RESTART;
-- Create "ent_types" table
CREATE TABLE "ent_types" (
  "id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  "type" character varying NOT NULL,
  PRIMARY KEY ("id")
);
-- Create index "ent_types_type_key" to table: "ent_types"
CREATE UNIQUE INDEX "ent_types_type_key" ON "ent_types" ("type");
-- Create "provider_fiat_accounts" table
CREATE TABLE "provider_fiat_accounts" (
  "id" uuid NOT NULL,
  "created_at" timestamptz NOT NULL,
  "updated_at" timestamptz NOT NULL,
  "institution" character varying NOT NULL,
  "account_identifier" character varying NOT NULL,
  "account_name" character varying NOT NULL,
  "provider_profile_fiat_accounts" character varying NOT NULL,
  PRIMARY KEY ("id"),
  CONSTRAINT "provider_fiat_accounts_provider_profiles_fiat_accounts" FOREIGN KEY ("provider_profile_fiat_accounts") REFERENCES "provider_profiles" ("id") ON UPDATE NO ACTION ON DELETE CASCADE
);
-- Create index "providerfiataccount_institutio_b5e218ec3d8f1c5e41ceb5705f2a768a" to table: "provider_fiat_accounts"
CREATE UNIQUE INDEX "providerfiataccount_institutio_b5e218ec3d8f1c5e41ceb5705f2a768a" ON "provider_fiat_accounts" ("institution", "account_identifier", "provider_profile_fiat_accounts");
-- Add pk ranges for ('api_keys'),('beneficial_owners'),('fiat_currencies'),('identity_verification_requests'),('institutions'),('kyb_profiles'),('linked_addresses'),('lock_order_fulfillments'),('lock_payment_orders'),('networks'),('payment_orders'),('payment_order_recipients'),('payment_webhooks'),('provider_currencies'),('provider_fiat_accounts'),('provider_order_tokens'),('provider_profiles'),('provider_ratings'),('provision_buckets'),('receive_addresses'),('sender_order_tokens'),('sender_profiles'),('tokens'),('transaction_logs'),('users'),('verification_tokens'),('webhook_retry_attempts') tables
INSERT INTO "ent_types" ("type") VALUES ('api_keys'), ('beneficial_owners'), ('fiat_currencies'), ('identity_verification_requests'), ('institutions'), ('kyb_profiles'), ('linked_addresses'), ('lock_order_fulfillments'), ('lock_payment_orders'), ('networks'), ('payment_orders'), ('payment_order_recipients'), ('payment_webhooks'), ('provider_currencies'), ('provider_fiat_accounts'), ('provider_order_tokens'), ('provider_profiles'), ('provider_ratings'), ('provision_buckets'), ('receive_addresses'), ('sender_order_tokens'), ('sender_profiles'), ('tokens'), ('transaction_logs'), ('users'), ('verification_tokens'), ('webhook_retry_attempts');
